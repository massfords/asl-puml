@startuml
hide empty description
skinparam ArrowColor #black
skinparam state {

    BackgroundColor<<Choice>> #whitesmoke
    FontColor<<Choice>> automatic

    BackgroundColor<<aslFail>> #red
    FontColor<<aslFail>> automatic

    BackgroundColor<<aslMap>> #whitesmoke

    BackgroundColor<<aslSucceed>> #green
    FontColor<<aslSucceed>> automatic

    BackgroundColor<<aslTask>> #lightblue
    FontColor<<aslTask>> automatic

    BackgroundColor<<aslWait>> #whitesmoke
    FontColor<<aslWait>> automatic
    BackgroundColor<<Compensate>> #orange
    FontColor<<CustomStyle0>> automatic
    BackgroundColor<<CustomStyle0>> #0070a3
    FontColor<<CustomStyle1>> automatic
    BackgroundColor<<CustomStyle1>> #455ea1
    FontColor<<CustomStyle2>> automatic
    BackgroundColor<<CustomStyle2>> #70458d
}
state "Initial: Validate Input" as state1<<Choice>>
state "Initial: Get Customer Status" as state2<<CustomStyle0>>
state "Initial: Do Fraud Check" as state3<<Choice>>
state "Initial: Notify New Order" as state4<<CustomStyle0>>
state "Reserve: Products" as state5<<CustomStyle1>> {
state "Reserve: Product" as state14<<CustomStyle1>>
state "Choice" as state15<<Choice>>
state "Reserve: Successful" as state16<<aslSucceedLocal>>
state "Reserve: Notify Delayed" as state17<<CustomStyle1>>
state "Reserve: Wait for availability" as state18<<CustomStyle1>>
}
state "Reserve: Notify Products Reserved" as state6<<CustomStyle1>>
state "Ship: Packaging and Shipping" as state7<<CustomStyle2>>
state "Ship: Notify Successful Shipping" as state8<<CustomStyle2>>
state "Ship: Notify Packaging and Shipping Failed" as state9<<CustomStyle2>>
state "Initial: Notify Fraudulent Customer" as state10<<CustomStyle0>>
state "Ship: Order Shipping Failed" as state11<<CustomStyle2>>
state "Ship: Order Shipped Successfully" as state12<<CustomStyle2>>
state "Initial: Notify Invalid Input" as state13<<CustomStyle0>>
[*] --> state1
state1 --> state13
state1 --> state2
state2 --> state3
state3 --> state10
note on link
fraudulent
end note
state3 --> state4
state4 --> state5
state5 --> state6
state6 --> state7
state7 --> state8
state7 -[bold,#orange]-> state9
state8 --> state12
state9 -[#pink]-> state11
state10 -[#pink]-> state11
state11 -[#pink]-> [*]
state12 --> [*]
state13 -[#pink]-> state11
state14 --> state15
state15 --> state17
note on link
temporarily-unavailable
end note
state15 --> state16
state17 --> state18
state18 --> state14
@enduml
